From d46e194eaa937eba73c6cc541a9eec52592cdfd2 Mon Sep 17 00:00:00 2001
From: Rafael Palomar <rafael.palomar@ous-research.no>
Date: Tue, 24 Jan 2023 19:26:38 +0100
Subject: [PATCH 08/11] ENH: Use CMake GNUInstallDirs in Slicer directories

---
 CMake/SlicerDirectories.cmake | 12 +++++++-----
 Libs/CMakeLists.txt           |  3 ++-
 2 files changed, 9 insertions(+), 6 deletions(-)

diff --git a/CMake/SlicerDirectories.cmake b/CMake/SlicerDirectories.cmake
index 10785b6fd1..e710abb76f 100644
--- a/CMake/SlicerDirectories.cmake
+++ b/CMake/SlicerDirectories.cmake
@@ -54,12 +54,14 @@ endif()
 #-----------------------------------------------------------------------------
 # Slicer relative directories
 #-----------------------------------------------------------------------------
+include(GNUInstallDirs)
+
 # for build tree
-set(Slicer_BIN_DIR "bin")
-set(Slicer_LIB_DIR "lib/${Slicer_MAIN_PROJECT_APPLICATION_NAME}-${Slicer_VERSION_MAJOR}.${Slicer_VERSION_MINOR}")
-set(Slicer_INCLUDE_DIR "include/${Slicer_MAIN_PROJECT_APPLICATION_NAME}-${Slicer_VERSION_MAJOR}.${Slicer_VERSION_MINOR}")
-set(Slicer_SHARE_DIR "share/${Slicer_MAIN_PROJECT_APPLICATION_NAME}-${Slicer_VERSION_MAJOR}.${Slicer_VERSION_MINOR}")
-set(Slicer_LIBEXEC_DIR "libexec/${Slicer_MAIN_PROJECT_APPLICATION_NAME}-${Slicer_VERSION_MAJOR}.${Slicer_VERSION_MINOR}")
+set(Slicer_BIN_DIR "${CMAKE_INSTALL_BINDIR}")
+set(Slicer_LIB_DIR "${CMAKE_INSTALL_LIBDIR}")
+set(Slicer_INCLUDE_DIR "${CMAKE_INSTALL_INCLUDEDIR}/${Slicer_MAIN_PROJECT_APPLICATION_NAME}/${Slicer_VERSION_MAJOR}.${Slicer_VERSION_MINOR}")
+set(Slicer_SHARE_DIR "${CMAKE_INSTALL_DATADIR}/${Slicer_MAIN_PROJECT_APPLICATION_NAME}/${Slicer_VERSION_MAJOR}.${Slicer_VERSION_MINOR}")
+set(Slicer_LIBEXEC_DIR "${CMAKE_INSTALL_LIBEXEC_DIR}/${Slicer_MAIN_PROJECT_APPLICATION_NAME}-${Slicer_VERSION_MAJOR}.${Slicer_VERSION_MINOR}")
 set(Slicer_ITKFACTORIES_DIR "${Slicer_LIB_DIR}/ITKFactories")
 set(Slicer_QM_DIR "${Slicer_BIN_DIR}/translations")
 
diff --git a/Libs/CMakeLists.txt b/Libs/CMakeLists.txt
index ee716f7b8e..a31c8d013f 100644
--- a/Libs/CMakeLists.txt
+++ b/Libs/CMakeLists.txt
@@ -118,7 +118,8 @@ foreach(dir ${dirs})
   endif()
   set(${dir_noslash}_INSTALL_BIN_DIR ${Slicer_INSTALL_LIB_DIR})
   set(${dir_noslash}_INSTALL_LIB_DIR ${Slicer_INSTALL_LIB_DIR})
-  set(${dir_noslash}_INSTALL_SHARE_DIR ${Slicer_INSTALL_ROOT}share/${dir_noslash})
+  set(${dir_noslash}_INSTALL_SHARE_DIR ${Slicer_INSTALL_SHARE_DIR}/${dir_noslash})
+  set(${dir_noslash}_INSTALL_INCLUDE_DIR ${Slicer_INSTALL_INCLUDE_DIR}/${dir_noslash})
   set(${dir_noslash}_INSTALL_NO_DEVELOPMENT ${Slicer_INSTALL_NO_DEVELOPMENT})
   set(${dir_noslash}_EXPORT_FILE ${Slicer_BINARY_DIR}/SlicerTargets.cmake)
   set(${dir_noslash}_FOLDER Core-Libs/${dir_noslash})
-- 
2.34.1

