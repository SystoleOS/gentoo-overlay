From 2baebd6f4c5e7559e6ce148834afea120b9ad74d Mon Sep 17 00:00:00 2001
From: Rafael Palomar <rafael.palomar@rr-research.no>
Date: Mon, 13 Jan 2020 16:46:08 +0100
Subject: [PATCH 19/23] COMP: Adding link directories for ModuleParser

---
 Applications/SlicerApp/CMakeLists.txt     | 2 ++
 Base/QTApp/CMakeLists.txt                 | 2 ++
 Base/QTGUI/CMakeLists.txt                 | 2 ++
 CMake/SlicerMacroBuildBaseQtLibrary.cmake | 2 --
 Modules/CMakeLists.txt                    | 2 ++
 Modules/Core/CMakeLists.txt               | 2 ++
 6 files changed, 10 insertions(+), 2 deletions(-)

diff --git a/Applications/SlicerApp/CMakeLists.txt b/Applications/SlicerApp/CMakeLists.txt
index 1acd8ec56..abbd48b97 100755
--- a/Applications/SlicerApp/CMakeLists.txt
+++ b/Applications/SlicerApp/CMakeLists.txt
@@ -1,6 +1,8 @@
 
 project(SlicerApp)
 
+find_package(SlicerExecutionModel REQUIRED ModuleDescriptionParser)
+
 include(SlicerMacroBuildApplication)
 
 # --------------------------------------------------------------------------
diff --git a/Base/QTApp/CMakeLists.txt b/Base/QTApp/CMakeLists.txt
index 2d16fc8be..513012df8 100644
--- a/Base/QTApp/CMakeLists.txt
+++ b/Base/QTApp/CMakeLists.txt
@@ -4,6 +4,8 @@ project(qSlicerBaseQTApp)
 # See CMake/SlicerMacroBuildBaseQtLibrary.cmake for details
 #
 
+find_package(SlicerExecutionModel REQUIRED ModuleDescriptionParser)
+
 set(KIT_export_directive "Q_SLICER_BASE_QTAPP_EXPORT")
 
 # Additional directories to include
diff --git a/Base/QTGUI/CMakeLists.txt b/Base/QTGUI/CMakeLists.txt
index f2133ac15..60b5cebe6 100644
--- a/Base/QTGUI/CMakeLists.txt
+++ b/Base/QTGUI/CMakeLists.txt
@@ -9,6 +9,8 @@ project(qSlicerBaseQTGUI)
 #
 find_package(ITK COMPONENTS ITKCommon REQUIRED)
 
+find_package(SlicerExecutionModel REQUIRED ModuleDescriptionParser)
+
 set(KIT_export_directive "Q_SLICER_BASE_QTGUI_EXPORT")
 
 # Additional directories to include
diff --git a/CMake/SlicerMacroBuildBaseQtLibrary.cmake b/CMake/SlicerMacroBuildBaseQtLibrary.cmake
index 2a9df70d8..41c65b2d0 100644
--- a/CMake/SlicerMacroBuildBaseQtLibrary.cmake
+++ b/CMake/SlicerMacroBuildBaseQtLibrary.cmake
@@ -142,8 +142,6 @@ macro(SlicerMacroBuildBaseQtLibrary)
     QT5_WRAP_CPP(SLICERQTBASELIB_MOC_OUTPUT ${SLICERQTBASELIB_MOC_SRCS} ${_moc_options})
     QT5_WRAP_UI(SLICERQTBASELIB_UI_CXX ${SLICERQTBASELIB_UI_SRCS})
 
-    message(STATUS "---------------->>> ${SLICERQTBASELIB_UI_SRCS}")
-    message(STATUS "================>>> ${SLICERQTBASELIB_UI_CXX}")
     if(DEFINED SLICERQTBASELIB_RESOURCES)
       QT5_ADD_RESOURCES(SLICERQTBASELIB_QRC_SRCS ${SLICERQTBASELIB_RESOURCES})
     endif()
diff --git a/Modules/CMakeLists.txt b/Modules/CMakeLists.txt
index 3f6fa9eab..38b5490a6 100644
--- a/Modules/CMakeLists.txt
+++ b/Modules/CMakeLists.txt
@@ -1,6 +1,8 @@
 # "Core" folder is included in the top-level CMakeLists.txt just before "Base/QTApp". Doing so
 # make it possible for QTApp to use on the Core module factory.
 
+find_package(SlicerExecutionModel REQUIRED ModuleDescriptionParser)
+
 if(Slicer_BUILD_QTLOADABLEMODULES)
   add_subdirectory(Loadable)
 endif()
diff --git a/Modules/Core/CMakeLists.txt b/Modules/Core/CMakeLists.txt
index 6f4a1e318..6b77e88ff 100644
--- a/Modules/Core/CMakeLists.txt
+++ b/Modules/Core/CMakeLists.txt
@@ -5,6 +5,8 @@ project(qSlicerModulesCore)
 #
 set(KIT_export_directive "Q_SLICER_MODULES_CORE_EXPORT")
 
+find_package(SlicerExecutionModel REQUIRED ModuleDescriptionParser)
+
 # Additional directories to include
 set(KIT_include_directories
   ${qSlicerBaseQTGUI_SOURCE_DIR}
-- 
2.24.1

