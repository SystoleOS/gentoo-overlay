From 8ecca74a96f2120b26e2883c387019a9a0e618a8 Mon Sep 17 00:00:00 2001
From: Rafael Palomar <rafael.palomar@rr-research.no>
Date: Fri, 21 Feb 2020 12:55:15 +0100
Subject: [PATCH 1/3] COMP: Fix Unknown CMake command "ctk_add_executable_utf8"

---
 CMake/ctkLinkerAsNeededFlagCheck.cmake          | 1 +
 CMake/ctkLinkerAsNeededFlagCheck/CMakeLists.txt | 2 ++
 2 files changed, 3 insertions(+)

diff --git a/CMake/ctkLinkerAsNeededFlagCheck.cmake b/CMake/ctkLinkerAsNeededFlagCheck.cmake
index 7efca29d..fa545e1a 100644
--- a/CMake/ctkLinkerAsNeededFlagCheck.cmake
+++ b/CMake/ctkLinkerAsNeededFlagCheck.cmake
@@ -36,6 +36,7 @@ if(NOT DEFINED CTK_LINKER_NO_AS_NEEDED_FLAG_REQUIRED)
     ${LINK_TEST_BINARY_DIR}
     ${LINK_TEST_SOURCE_DIR}
     LINK_TEST
+    CMAKE_FLAGS -DCTK_CMAKE_DIR=${CTK_CMAKE_DIR}
     )
   if(CTK_LINKER_LINKS_UNDERLINKED_LIBS)
     set(CTK_LINKER_NO_AS_NEEDED_FLAG_REQUIRED FALSE CACHE INTERNAL "Test CTK_LINKER_NO_AS_NEEDED_FLAG_REQUIRED")
diff --git a/CMake/ctkLinkerAsNeededFlagCheck/CMakeLists.txt b/CMake/ctkLinkerAsNeededFlagCheck/CMakeLists.txt
index a5758c34..c722f876 100644
--- a/CMake/ctkLinkerAsNeededFlagCheck/CMakeLists.txt
+++ b/CMake/ctkLinkerAsNeededFlagCheck/CMakeLists.txt
@@ -1,3 +1,5 @@
+include(${CTK_CMAKE_DIR}/ctkFunctionAddExecutableUtf8.cmake)
+
 add_library(A SHARED A.cpp)
 add_library(B SHARED B.cpp)
 ctk_add_executable_utf8(C C.cpp)
-- 
2.24.1

