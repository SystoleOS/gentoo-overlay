From 6615eceb8c1ffc53a72bde0a4f6754b7ae50e338 Mon Sep 17 00:00:00 2001
From: Rafael Palomar <rafael.palomar@ous-research.no>
Date: Tue, 7 Feb 2023 18:56:52 +0100
Subject: [PATCH] ENH: Make Units a separate module

---
 Modules/Loadable/Units/CMakeLists.txt         | 13 +++++++++++++
 Modules/Loadable/Units/Widgets/CMakeLists.txt |  1 +
 2 files changed, 14 insertions(+)

diff --git a/Modules/Loadable/Units/CMakeLists.txt b/Modules/Loadable/Units/CMakeLists.txt
index 261ce97c8f..bffb8216dc 100644
--- a/Modules/Loadable/Units/CMakeLists.txt
+++ b/Modules/Loadable/Units/CMakeLists.txt
@@ -18,12 +18,25 @@
 #
 ################################################################################
 
+#-----------------------------------------------------------------------------
+cmake_minimum_required(VERSION 3.16.3...3.19.7 FATAL_ERROR)
+
+#-----------------------------------------------------------------------------
+project(Units)
+
 #-----------------------------------------------------------------------------
 set(MODULE_NAME Units)
 set(MODULE_TITLE ${MODULE_NAME})
 
 string(TOUPPER ${MODULE_NAME} MODULE_NAME_UPPER)
 
+#-----------------------------------------------------------------------------
+set(CMAKE_CXX_STANDARD "17")
+
+#-----------------------------------------------------------------------------
+find_package(Slicer REQUIRED)
+include(${Slicer_USE_FILE})
+
 #-----------------------------------------------------------------------------
 add_subdirectory(Logic)
 add_subdirectory(Widgets)
diff --git a/Modules/Loadable/Units/Widgets/CMakeLists.txt b/Modules/Loadable/Units/Widgets/CMakeLists.txt
index 5bc23589d3..1fd0117d7e 100644
--- a/Modules/Loadable/Units/Widgets/CMakeLists.txt
+++ b/Modules/Loadable/Units/Widgets/CMakeLists.txt
@@ -31,6 +31,7 @@ set(${KIT}_RESOURCES
 
 set(${KIT}_TARGET_LIBRARIES
   vtkSlicerUnitsModuleLogic
+  qMRMLWidgets
   )
 
 #-----------------------------------------------------------------------------
-- 
2.39.1

